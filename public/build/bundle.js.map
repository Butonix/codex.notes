{"version":3,"sources":["webpack:///webpack/bootstrap 537bb41113cf47823d9a","webpack:///./public/javascripts/aside.js","webpack:///./public/javascripts/note.js","webpack:///./public/javascripts/dom.js","webpack:///./public/stylesheets/base.css","webpack:///external \"electron\"","webpack:///./public/javascripts/app.js","webpack:///./public/javascripts/folders.js","webpack:///./public/javascripts/autoresizer.js"],"names":["Aside","CSS","notesMenuLoading","notesMenu","document","querySelector","foldersMenu","classList","add","window","ipcRenderer","send","currentFolder","on","event","userFolders","remove","forEach","addFolder","notes","addMenuItem","newNoteButton","newFolderButton","addEventListener","newNoteButtonClicked","call","newFolderButtonClicked","setTimeout","editor","click","clear","newFolderInput","input","createFolder","focus","noteData","titleMaxLength","existingNote","id","noteTitle","title","length","substring","textContent","menuItem","dom","make","dataset","insertAdjacentElement","menuItemClicked","folder","name","item","folderId","folderClicked","itemId","sendSync","render","editorView","scrollIntoView","moveToFolder","innerHTML","require","default","DELETE_BUTTON_ID","Note","autosaveTimer","clearTimeout","save","codex","nodes","redactor","autosave","bind","removeEventListener","get","saver","then","note","data","NOTE_TITLE","value","saveIndicator","getElementById","state","blocks","content","saveDate","Date","time","NOTE_DATE","toLocaleDateString","day","month","hour","minute","hour12","load","ui","addInitialBlock","removeMenuItem","DOM","tagName","classNames","attributes","el","createElement","Array","isArray","attrName","nodeToReplace","replaceWith","parentNode","replaceChild","elementId","electron","webFrame","setZoomLevelLimits","documentReady","Folder","Autoresizer","addToMenu","autoResizableElements","getElementsByClassName","autoresizer","enableAutosave","backToRoot","openExternalLink","target","href","closest","shell","openExternal","metaKey","ctrlKey","module","exports","keyCode","createdFolder","folderName","clearNotesList","foldersSection","currentFolderTitle","elements","i","addResizer","preventDefault","style","height","scrollHeight","removeResizer"],"mappings":"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","file":"./public/build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 537bb41113cf47823d9a","import Folder from './folders';\nimport Note from './note';\n\n/**\n * Aside column module\n */\nexport default class Aside {\n\n  /**\n  * @constructor\n  * @property {object} CSS dictionary\n  */\n  constructor() {\n    /**\n     * Make CSS dictionary\n     * @type {Object}\n     */\n    this.CSS = {\n      notesMenuLoading: 'notes-list--loading'\n    };\n\n    /**\n     * Find notes list holder\n     * @type {Element}\n     */\n    let notesMenu = document.querySelector('[name=\"js-notes-menu\"]'),\n        foldersMenu = document.querySelector('[name=\"js-folders-menu\"]');\n\n    /**\n     * Show preloader\n     */\n    notesMenu.classList.add(this.CSS.notesMenuLoading);\n    foldersMenu.classList.add(this.CSS.notesMenuLoading);\n\n    /**\n     * Emit message to load list\n     */\n    window.ipcRenderer.send('load notes list', Folder.currentFolder);\n    window.ipcRenderer.send('load folders list');\n\n    /**\n     * Update folder list\n     */\n    window.ipcRenderer.on('update folders list', (event, {userFolders}) => {\n      foldersMenu.classList.remove(this.CSS.notesMenuLoading);\n      userFolders.forEach(Aside.addFolder);\n    });\n\n    /**\n     * Update notes list\n     */\n    window.ipcRenderer.on('update notes list', (event, {notes}) => {\n      notesMenu.classList.remove(this.CSS.notesMenuLoading);\n      notes.forEach(Aside.addMenuItem);\n    });\n\n    /**\n     * Activate new note button\n     */\n    let newNoteButton = document.querySelector('[name=\"js-new-note-button\"]');\n    let newFolderButton = document.querySelector('[name=\"js-new-folder-button\"]');\n\n    newNoteButton.addEventListener('click', () => this.newNoteButtonClicked.call(this) );\n    newFolderButton.addEventListener('click', Aside.newFolderButtonClicked);\n  }\n\n  /**\n   * New note button click handler\n   * @this {Aside}\n   */\n  newNoteButtonClicked() {\n    /**\n     * Set focus to the Editor\n     */\n    window.setTimeout(function () {\n      let editor = document.querySelector('.ce-redactor');\n\n      editor.click();\n    }, 10);\n    Note.clear();\n  }\n\n  /**\n   * New folder button click handler\n   * @this {Aside}\n   */\n  static newFolderButtonClicked() {\n    let newFolderInput = document.querySelector('[name=\"js-new-folder-input\"]'),\n        input = newFolderInput.querySelector('input');\n\n    input.addEventListener('keydown', Folder.createFolder);\n\n    this.classList.add('hide');\n    newFolderInput.classList.remove('hide');\n\n    input.focus();\n  }\n\n  /**\n   *\n   * Add note to left menu\n   *\n   * @param {object} noteData\n   * @param {string} noteData.title\n   */\n  static addMenuItem(noteData) {\n    /**\n     * Maximum chars at the node title\n     * @type {Number}\n     */\n    const titleMaxLength = 68;\n\n    let notesMenu = document.querySelector('[name=\"js-notes-menu\"]');\n    let existingNote = notesMenu.querySelector('[data-id=\"' + noteData.id + '\"]');\n\n    let noteTitle = noteData.title;\n\n    if ( noteTitle.length > titleMaxLength ) {\n      noteTitle = noteTitle.substring(0, titleMaxLength) + '…';\n    }\n\n    if (existingNote) {\n      existingNote.textContent = noteTitle;\n      return;\n    }\n\n    let menuItem = dom.make('li', null, {\n      textContent: noteTitle\n    });\n\n    menuItem.dataset.id = noteData.id;\n\n    notesMenu.insertAdjacentElement('afterbegin', menuItem);\n\n    menuItem.addEventListener('click', Aside.menuItemClicked);\n  }\n\n  /**\n   *  Add new item to folders list\n   *\n   * @param folder\n   */\n  static addFolder(folder) {\n    /**\n     * Maximum chars at the node title\n     * @type {Number}\n     */\n    const titleMaxLength = 68;\n\n    let foldersMenu = document.querySelector('[name=\"js-folders-menu\"]');\n\n    if ( folder.name.length > titleMaxLength ) {\n      folder.name = folder.name.substring(0, titleMaxLength) + '…';\n    }\n\n    let item = dom.make('li', null, {\n      textContent: folder.name\n    });\n\n    item.dataset.folderId = folder.id;\n\n    foldersMenu.insertAdjacentElement('afterbegin', item);\n\n    item.addEventListener('click', Aside.folderClicked);\n  }\n\n  /**\n   * Remove item from menu\n   *\n   * @param itemId\n   */\n  static removeMenuItem(itemId) {\n    let notesMenu = document.querySelector('[name=\"js-notes-menu\"]');\n\n    let existingNote = notesMenu.querySelector('[data-id=\"' + itemId + '\"]');\n\n    if (existingNote) existingNote.remove();\n  }\n\n  /**\n   * Note in aside menu click listener\n   * @this {Element}\n   */\n  static menuItemClicked() {\n    let menuItem = this,\n        id = menuItem.dataset.id;\n\n    let noteData = window.ipcRenderer.sendSync('get note', {id});\n\n    Note.render(noteData);\n\n    /**\n     * Scroll to top\n     */\n    let editorView = document.querySelector('[name=\"editor-view\"]');\n\n    editorView.scrollIntoView();\n  }\n\n  /**\n   * Folder menu item clicked handler\n   */\n  static folderClicked() {\n    Folder.moveToFolder(this.dataset.folderId, this.textContent);\n  }\n\n  /**\n   * Remove notes list\n   */\n  static clearNotesList() {\n    let notesMenu = document.querySelector('[name=\"js-notes-menu\"]');\n\n    notesMenu.innerHTML = '';\n  }\n\n}\n\nlet dom = require('./dom').default;\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/aside.js","import Folder from './folders';\n\nconst DELETE_BUTTON_ID = 'delete-button';\n\n/**\n * Note\n */\nexport default class Note {\n\n  /**\n   * Send note data to backend\n   * @static\n   */\n  static save() {\n    dom.get(DELETE_BUTTON_ID).classList.remove('hide');\n\n    codex.editor.saver.save()\n      .then(function (noteData) {\n        let note = {\n          data: noteData,\n          title: window.NOTE_TITLE.value,\n          folderId: Folder.currentFolder\n        };\n\n        let saveIndicator = document.getElementById('save-indicator');\n\n        saveIndicator.classList.add('saved');\n        window.setTimeout(() => {\n          saveIndicator.classList.remove('saved');\n        }, 500);\n        window.ipcRenderer.send('save note', {note});\n      });\n  }\n\n  /**\n   *  Keyup event on editor zone fires timeout to autosave note\n   */\n  autosave() {\n    if (this.autosaveTimer) window.clearTimeout(this.autosaveTimer);\n\n    this.autosaveTimer = window.setTimeout(Note.save, 500);\n  }\n\n  /**\n   * Add keyup listener to editor zone\n   */\n  enableAutosave() {\n    codex.editor.nodes.redactor.addEventListener('keyup', this.autosave.bind(this));\n  }\n\n  /**\n   * Remove keyup listener to editor zone\n   */\n  disableAutosave() {\n    codex.editor.nodes.redactor.removeEventListener('keyup', this.autosave.bind(this));\n  }\n\n  /**\n   *  Add note to menu by Aside.addMenuItem method\n   *\n   * @param event\n   * @param data\n   */\n  static addToMenu(event, {note}) {\n    codex.editor.state.blocks.id = note.id;\n\n    Aside.addMenuItem(note);\n  }\n\n  /**\n   * Renders note\n   * @param  {object} noteData\n   */\n  static render(note) {\n    codex.editor.content.clear(true);\n    window.NOTE_TITLE.value = note.title;\n\n    let saveDate = new Date(note.data.time);\n\n    window.NOTE_DATE.textContent = saveDate.toLocaleDateString('en-US', {\n      day: 'numeric',\n      month: 'short',\n      hour: 'numeric',\n      minute: 'numeric',\n      hour12: false\n    });\n    codex.editor.content.load(note.data);\n    dom.get(DELETE_BUTTON_ID).classList.remove('hide');\n  }\n\n  /**\n   * Clears editor\n   */\n  static clear() {\n    codex.editor.content.clear(true);\n    window.NOTE_TITLE.value = '';\n    window.NOTE_DATE.textContent = '';\n    codex.editor.ui.addInitialBlock();\n    dom.get(DELETE_BUTTON_ID).classList.add('hide');\n  }\n\n  /**\n   * Delete article\n   */\n  static delete() {\n    let id = codex.editor.state.blocks.id;\n\n    if (!id) {\n      return;\n    }\n\n    if (!window.ipcRenderer.sendSync('delete note', {id})) {\n      return false;\n    }\n\n    Note.clear();\n    Aside.removeMenuItem(id);\n  }\n}\n\nlet Aside = require('./aside').default;\nlet dom = require('./dom').default;\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/note.js","/**\n * DOM manipulations methods\n */\nexport default class DOM {\n  /**\n   * Helper for making Elements with classname and attributes\n   * @param  {string} tagName           - new Element tag name\n   * @param  {array|string} classNames  - list or name of CSS classname(s)\n   * @param  {Object} attributes        - any attributes\n   * @return {Element}\n   */\n  static make(tagName, classNames, attributes) {\n    var el = document.createElement(tagName);\n\n    if ( Array.isArray(classNames) ) {\n      el.classList.add(...classNames);\n    } else if( classNames ) {\n      el.classList.add(classNames);\n    }\n\n    for (let attrName in attributes) {\n      el[attrName] = attributes[attrName];\n    }\n\n    return el;\n  }\n\n  /**\n  * Replaces node with\n  * @param {Element} nodeToReplace\n  * @param {Element} replaceWith\n  */\n  static replace(nodeToReplace, replaceWith) {\n    return nodeToReplace.parentNode.replaceChild(replaceWith, nodeToReplace);\n  }\n\n  /**\n  * getElementById alias\n  * @param {String} elementId\n  */\n  static get(elementId) {\n    return document.getElementById(elementId);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/dom.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/stylesheets/base.css\n// module id = 3\n// module chunks = 0","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 4\n// module chunks = 0","'use strict';\n\nconst electron = require('electron');\n\nwindow.ipcRenderer = electron.ipcRenderer;\n\n/**\n * Disable zoom\n */\nelectron.webFrame.setZoomLevelLimits(1, 1);\n\n/**\n * Load CSS\n */\nrequire('../stylesheets/base.css');\n\n/**\n * Document ready callback\n */\nlet documentReady = () => {\n  /**\n   * Init aside module\n   */\n  let Note = require('./note').default;\n  let Aside = require('./aside').default;\n  let Folder = require('./folders').default;\n  let Autoresizer = require('./autoresizer').default;\n\n  new Aside();\n\n  window.ipcRenderer.on('note saved', Note.addToMenu);\n  window.NOTE_TITLE = document.getElementById('note-title');\n  window.NOTE_DATE = document.getElementById('note-date');\n\n  let autoResizableElements = document.getElementsByClassName('js-autoresizable');\n  let note = new Note();\n\n  let autoresizer = new Autoresizer(autoResizableElements);\n\n  note.enableAutosave();\n\n  let currentFolder = document.getElementById('current-folder');\n\n  currentFolder.addEventListener('click', Folder.backToRoot);\n};\n\nlet openExternalLink = function (event) {\n  if (event.target.tagName !== 'A' || !event.target.href) {\n    return;\n  }\n\n  if (!event.target.closest('.editor')) {\n    electron.shell.openExternal(event.target.href);\n    return;\n  }\n\n  if (event.metaKey || event.ctrlKey) {\n    electron.shell.openExternal(event.target.href);\n  }\n};\n\n/**\n * Application\n */\nmodule.exports = function () {\n  document.addEventListener('DOMContentLoaded', documentReady, false);\n  document.addEventListener('click', openExternalLink);\n  let Note = require('./note').default;\n  let Aside = require('./aside').default;\n\n  return {\n    Note: Note,\n    Aside: Aside\n  };\n}();\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/app.js","import Aside from './aside';\nimport Note from './note';\n\n/**\n * Folders methods\n */\nexport default class Folder {\n  /**\n   * Create new folder\n   */\n  static createFolder(event) {\n    if (event.keyCode !== 13) {\n      return;\n    }\n\n    let folder = this.value;\n\n    let createdFolder = window.ipcRenderer.sendSync('create folder', folder);\n\n    Aside.addFolder(createdFolder);\n    this.value = '';\n    this.removeEventListener('keydown', Folder.createFolder);\n\n    let newFolderInput = this.parentNode;\n    let newFolderButton = document.querySelector('[name=\"js-new-folder-button\"]');\n\n    newFolderInput.classList.add('hide');\n    newFolderButton.classList.remove('hide');\n  }\n\n  /**\n   * Set up interface for folder\n   *\n   * @param folderId\n   */\n  static moveToFolder(folderId, folderName) {\n    Note.clear();\n\n    Folder.currentFolder = folderId;\n    Aside.clearNotesList();\n    window.ipcRenderer.send('load notes list', folderId);\n\n    let foldersSection = document.getElementById('folders-section'),\n        currentFolder = document.getElementById('current-folder'),\n        currentFolderTitle = document.getElementById('current-folder-title');\n\n    foldersSection.classList.add('hide');\n\n    currentFolderTitle.textContent = folderName;\n    currentFolder.classList.remove('hide');\n  }\n\n  /**\n   * Setup main interface\n   */\n  static backToRoot() {\n    Note.clear();\n\n    Folder.currentFolder = 0;\n\n    Aside.clearNotesList();\n    window.ipcRenderer.send('load notes list', Folder.currentFolder);\n\n    let foldersSection = document.getElementById('folders-section'),\n        currentFolder = document.getElementById('current-folder');\n\n    foldersSection.classList.remove('hide');\n    currentFolder.classList.add('hide');\n  }\n\n  /**\n   * Return current folder ID\n   *\n   * @returns {number}\n   */\n  static get currentFolder() {\n    return currentFolder;\n  }\n\n  /**\n   * Set current folder ID\n   *\n   * @param {Number} folderId\n   */\n  static set currentFolder(folderId) {\n    currentFolder = folderId;\n  }\n\n}\n\nlet currentFolder = 0;\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/folders.js","/**\n * Autoresizer module\n * Expands dynamically height of textareas\n */\n\n/**\n * @property elements - array of elements\n * @property {Function} addResizer - adds listeners\n * @property {Function} removeResizer - removes listeners\n * @property {Function} destroy - removes all elements and handlers\n */\nexport default class Autoresizer {\n\n  /**\n   * adds autoresize handler\n   * @param elements - elements that needs to expand\n   */\n  constructor(elements) {\n    this.elements = elements || [];\n\n    for(let i = 0; i < this.elements.length; i++) {\n      this.addResizer(this.elements[i]);\n    }\n  }\n\n  /**\n   * autoresizer for textareas\n   * @param {Element} el - element we want to expand\n   */\n  addResizer(el) {\n    el.addEventListener('keydown', function (event) {\n      if (event.keyCode == 13) {\n        event.preventDefault();\n      }\n    }, false);\n\n    el.addEventListener('input', function (event) {\n      el.style.height = 'auto';\n      el.style.height = el.scrollHeight + 'px';\n    }, false);\n  }\n\n  /**\n   * removes handlers from element\n   * @param {Element} el - element we want to clear from resizer\n   */\n  removeResizer(el) {\n    el.removeEventListener('keydown');\n    el.removeEventListener('input');\n  }\n\n  /**\n   * Destroyer function. Clears all elements\n   */\n  destroy() {\n    for(let i = 0; i < this.elements.length; i++) {\n      this.removeResizer(this.elements[i]);\n    }\n\n    this.elements = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/autoresizer.js"],"sourceRoot":""}